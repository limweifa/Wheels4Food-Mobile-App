<ion-modal-view class="view-job-details">
    <ion-header-bar>
        <h1 class="title">Job Details</h1>
        <button class="button button-clear" ng-click="closeModal()">Cancel</button>
    </ion-header-bar>
    <ion-content>
        <div class="card">
            <div class="item item-divider">
                Item Details
            </div>
            <div class="item item-text-wrap item-icon-left" ng-repeat="demandItem in currentDemandItemList">
                <i class="icon ion-ios-box"></i>
                <p>{{demandItem.supply.itemName}}</p>
                <span class="badge badge-calm">{{demandItem.quantityDemanded}} {{demandItem.supply.unit}}</span>
            </div>
            <div class="item item-divider">
                Delivery Details
            </div>
            <div class="item item-text-wrap item-icon-left">
                <i class="icon ion-calendar"></i>
                <h3>Date & Time</h3>
                <p>{{currentJob.deliveryDate}}</p>
                <p>{{currentJob.timeslot}}</p>
            </div> 
            <div class="item item-text-wrap item-icon-left">
                <i class="icon ion-ios-location"></i>
                <h3>Supplying Organization</h3>
                <p>{{currentJob.demand.supplier.organizationName}}</p>
                <p>{{currentJob.demand.supplier.address}}</p>
            </div>
            <div class="item item-text-wrap item-icon-left">
                <i class="icon ion-ios-location"></i>
                <h3>Receiving Organization</h3>
                <p>{{currentJob.demand.user.organizationName}}</p>
                <p>{{currentJob.demand.user.address}}</p>
            </div>
        </div>
        <!--            <label class="item">
                        <a class="item item-icon-left" href="#">
                             <i class="icon ion-ios-box"></i>
                            <h3>{{currentJob.demand.supply.itemName}}</h3>
                            <p> Milo Tin - 500g</p>
                            <p>{{currentJob.demand.supply.itemName}}</p>
                        </a>
                        <a class="item item-icon-left" href="#">
                            <i class="icon ion-ios-calculator"></i>
                            <h3>Quantity</h3>
                            <p>20 tins</p>
                            <p>{{currentJob.demand.quantityDemanded}} pcs</p>
                        </a>
                        <a class="item item-icon-left" href="#">
                            <i class="icon ion-ios-location"></i>
                            <h3>Supplying Organization</h3> 
                            <p>Food From The Heart</p>
                            <p>Joo Seng Road #01-130</p>
                            <p>{{currentJob.demand.supply.user.organizationName}}, {{currentJob.demand.supply.user.address}}</p> 
                       
                        </a>
                        <a class="item item-icon-left" href="#">
                            <i class="icon ion-ios-location"></i>
                            <p>Smiling Heart, Smile Street 10</p>
                            <h3>Receiving Organization</h3> <p>{{currentJob.demand.user.organizationName}}, {{currentJob.demand.user.address}}</p> 
                       
                        </a>
                        <a class="item item-icon-left" href="#">
                            <i class="icon ion-calendar"></i>
                            <h3>Job Valid Until</h3> <p>{{currentJob.expiryDate}}</p>
                        </a>
                       
                    </label>
        
                    <div class="item item-divider" style="text-align: center">
                        Available Slots
                    </div>
        
                    <div class="row">
                        <div class="col"></div>
                        <div class="col" style="text-align:center">9am to 12pm</div>
                        <div class="col" style="text-align:center">2pm to 5pm</div>
                    </div>
                    <div class="row" ng-repeat="slot in availableSlots">
                        <div class="col" style="text-align:center">{{slot.amSlot.date| date:'dd MMM yyyy'}}</div>
                        
                        <div class="col"><ion-radio ng-model="$parent.selectedSlot" ng-value="slot.amSlot" ng-click="selectSlot($parent.selectedSlot)" ng-disabled="!slot.amSlot.isAvailable" ng-class="{'radio-disabled': !slot.amSlot.isAvailable}" ></ion-radio></div>
                        <div class="col"><ion-radio ng-model="$parent.selectedSlot" ng-value="slot.pmSlot" ng-click="selectSlot($parent.selectedSlot)" ng-disabled="!slot.pmSlot.isAvailable" ng-class="{'radio-disabled': !slot.pmSlot.isAvailable}"></ion-radio></div>
                    </div>
        
                    <div ng-show="hasSelection" style="text-align:center">You have selected <strong>{{selectedSlot.date| date:'dd MMM yyyy'}}</strong>, <strong>{{selectedSlot.period}}</strong>. </div>
                    <div ng-show="hasSelection" style="text-align:center">Please indicate your pickup and delivery timing: </div>             
                    <br>-->
        <div class="item item-input-inset">

            <label class="item-input-wrapper">
                <span class="input-label">Pickup</span> 
                <input type="text" placeholder="Indicate pickup time" value="{{collectionTimeTwelveHours}}">

                <!--                    <ionic-timepicker input-obj="timePickerObjectPickup">
                                        <standard-time-meridian etime='timePickerObjectPickup.inputEpochTime'></standard-time-meridian>
                                        <input type="text" placeholder="Click to indicate time" value="{{collectionTimeTwelveHours}}">
                                    </ionic-timepicker>       -->
            </label>
            <ionic-timepicker input-obj="timePickerObjectPickup">
                <button class="button button-small btn blue">
                    Select Time
                    <standard-time-meridian etime='timePickerObjectPickup.inputEpochTime'></standard-time-meridian>
                </button>
            </ionic-timepicker>
        </div>

        <div class="item item-input-inset">
            <label class="item-input-wrapper">
                <span class="input-label">Delivery</span>
                <!--                    <ionic-timepicker input-obj="timePickerObjectDeliver">
                                        <standard-time-meridian etime='timePickerObjectDeliver.inputEpochTime'></standard-time-meridian>-->
                <!--                        <input type="text" placeholder="Click to indicate time" value="{{deliveryTimeTwelveHours}}">
                                    </ionic-timepicker>-->
                <input type="text" placeholder="Indicate delivery time" value="{{deliveryTimeTwelveHours}}">
            </label>
            <ionic-timepicker input-obj="timePickerObjectDeliver">
                <button class="button button-small btn blue">
                    Select Time
                    <standard-time-meridian etime='timePickerObjectPickup.inputEpochTime'></standard-time-meridian>
                </button>
            </ionic-timepicker>
            <!--                <ionic-timepicker input-obj="timePickerObjectDeliver">
                                <button class="button button-small button-positive overflowShow">
                                    Select
                                    <standard-time-meridian etime='timePickerObjectDeliver.inputEpochTime'></standard-time-meridian>
                                </button>
                            </ionic-timepicker>-->
        </div>


        <!--        <ionic-timepicker input-obj="timePickerObjectPickup">
                    <button class="button button-block button-positive overflowShow">
                        <standard-time-meridian etime='timePickerObjectPickup.inputEpochTime'></standard-time-meridian>
                    </button>
                </ionic-timepicker>
                Your selected time is : {{collectionTime}}-->

        <button class="button button-block btn-helpnow blue" ng-click="acceptJob(currentJob)">
            Help Now!  
        </button>


    </ion-content>
</ion-modal-view>